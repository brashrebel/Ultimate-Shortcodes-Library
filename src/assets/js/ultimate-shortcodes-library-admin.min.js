var USL_Admin;!function(a){USL_Admin={init:function(){}},a(function(){USL_Admin.init()})}(jQuery);var USL_Modal;!function(a){var b,c={},d=!1;USL_Modal={init:function(){this.establish_elements(),this.binds(),this.store_original_values(),this.prevent_window_scroll(),this.activate_shortcode(),this.search(),this.sliders(),this.colorpickers()},load:function(){},resize:function(){this.list_height()},establish_elements:function(){c.wrap=a("#usl-modal-wrap"),c.submit=a("#usl-modal-submit"),c.backdrop=a("#usl-modal-backdrop"),c.cancel=c.wrap.find(".usl-modal-cancel"),c.close=c.wrap.find(".usl-modal-close"),c.title=c.wrap.find(".usl-modal-title"),c.search=c.wrap.find(".usl-modal-search"),c.categories=c.wrap.find(".usl-modal-categories"),c.footer=c.wrap.find(".usl-modal-footer"),c.list=c.wrap.find(".usl-modal-shortcodes")},binds:function(){c.submit.off("click").click(function(a){a.preventDefault(),USL_Modal.update()}),c.cancel.click(function(a){a.preventDefault(),USL_Modal.close()}),c.close.click(function(a){a.preventDefault(),USL_Modal.close()}),c.categories.find("li").click(function(){USL_Modal.filter_by_category(a(this))}),c.list.find(".show-advanced-atts").click(function(){return USL_Modal.toggle_advanced_atts(a(this)),!1}),a(document).keypress(function(a){d&&13==a.which&&USL_Modal.update()})},store_original_values:function(){c.list.find("input").each(function(){a(this).data("original-value",a(this).val())})},colorpickers:function(){c.list.find(".colorpicker").each(function(){var b=a(this).data();a(this).data("original-color",a(this).val()),a(this).wpColorPicker(b)})},sliders:function(){c.list.find(".slider").each(function(){var b=a(this),c=b.data(),d=b.siblings(".slider-value");c.slide=function(a,b){d.val(b.value)},d.change(function(){b.slider("value",a(this).val())}),b.slider(c)})},search:function(){var b,d,e=!1,f=1e3,g=300;c.wrap.find('input[name="usl-modal-search"]').on("keyup",function(h){if(13!=h.which){var i=a(this).val();e||c.list.animate({opacity:0},g),e=!0,d=""===i?g:f,clearTimeout(b),b=setTimeout(function(){e=!1,c.list.animate({opacity:1},g),c.list.find("> li").each(function(){var b=a(this).find(".title").text(),c=a(this).find(".description").text(),d=a(this).attr("data-code"),e=b+c+d;e.indexOf(i)<0?a(this).hide():a(this).show()})},d)}})},activate_shortcode:function(){c.list.find(".accordion-section-title, .usl-modal-sc-title").off("click").click(function(){var b=a(this).closest("li"),d=b.hasClass("active");c.list.find("li").removeClass("active"),a(this).hasClass("accordion-section-title")||c.list.find("li").removeClass("open"),d||b.addClass("active")})},toggle_advanced_atts:function(a){var b=a.next(".advanced-atts"),c=b.is(":visible")?"Show advanced options":"Hide advanced options";b.toggle(),a.text(c)},prevent_window_scroll:function(){c.list.bind("mousewheel",function(b){return a(this).scrollTop(a(this).scrollTop()-b.originalEvent.wheelDeltaY),!1})},filter_by_category:function(b){var d=b.attr("data-category"),e=c.list.find("li"),f=c.list.find("li.active");this.refresh(f),"all"===d?e.show():e.each(function(){d!==a(this).attr("data-category")?a(this).hide():a(this).show()})},list_height:function(){var a=c.wrap.innerHeight()-c.title.outerHeight(!0)-c.search.outerHeight(!0)-c.categories.outerHeight(!0)-c.wrap.find(".dashicons-leftright").outerHeight(!0)-c.footer.outerHeight(!0);c.list.height(a)},open:function(e){b=e,d=!0,a(document).trigger("usl-modal-open"),c.wrap.show(),c.backdrop.show(),c.search.find('input[name="usl-modal-search"]').focus(),this.list_height()},close:function(){d=!1,a(document).trigger("usl-modal-close"),c.wrap.hide(),c.backdrop.hide();var b=c.list.find("li");this.refresh(b)},update:function(){a(document).trigger("usl-modal-update");var d,e,f=c.list.find("li.active"),g=f.find(".usl-modal-shortcode-form").serializeArray(),h=f.attr("data-code");if(0!==f.length&&this.validate()){if(d=USL_Data.all_shortcodes[h],e="["+h,g.length)for(i=0;i<g.length;i++)g[i].value.length&&(e+=" "+g[i].name+'="'+g[i].value+'"');return e+="]",d.wrapping&&(e+=b+"[/"+h+"]"),this.close(),this.refresh(f),e}},validate:function(){var b=c.list.find("li.active"),d=!0;return b.find(".usl-modal-sc-att-field").each(function(){var b=a(this).attr("data-required"),c=a(this).find("input, select").val();"1"!==b||c?a(this).closest(".usl-modal-sc-att-row").removeClass("invalid"):(a(this).closest(".usl-modal-sc-att-row").addClass("invalid"),d=!1)}),d},refresh:function(b){b.each(function(){b.find(".text-input").each(function(){a(this).val(a(this).data("original-value"))}),b.find("select").prop("selectedIndex",0),b.find(".slider").each(function(){a(this).slider("value",a(this).data("original-value"))}),b.find(".colorpicker").each(function(){a(this).iris("color",a(this).data("original-value"))}),b.removeClass("active open")})}},a(function(){USL_Modal.init()}),a(window).load(function(){USL_Modal.load()}),a(window).resize(function(){USL_Modal.resize()})}(jQuery);
//# sourceMappingURL=ultimate-shortcodes-library-admin.min.js.map