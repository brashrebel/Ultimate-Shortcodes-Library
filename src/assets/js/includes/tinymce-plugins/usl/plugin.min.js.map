{"version":3,"file":"plugin.min.js","sources":["../../../source/admin/tinymce.js"],"names":["USL_tinymce","$","editor","$texteditor","$editor","$loader","no_selected","min_load_time","last_message","submitted","$lastNode","init","this","addToTinymce","binds","find","createLoader","document","on","close","update","removeShortcode","postRender","submit","event","tinymce","PluginManager","add","_editor","addCommand","node","selection","getNode","USL_Modal","getContent","closest","length","hasClass","$node","content","html","container_html","append","clone","shortcode","visualToLiteral","modify","open","loadVisual","addButton","icon","cmd","tooltip","onPostRender","usl_button","element","is_usl","removeClass","addClass","active","addShortcut","onClick","$body","getBody","onKeyDown","keyCode","curElm","getRng","startContainer","range","getBookmark","textContent","rng","text","caret_position","startOffset","$container","$prev","previousElementSibling","prev","parent","trim","charCodeAt","remove","preventDefault","onKeyPress","node_content","caretPos","literal_text","slice","newChar","String","fromCharCode","charCode","select","collapse","format","val","window","switchEditors","pre_wpautop","loadText","USL_Data","do_render","USL_MCECallbacks","convertLiteralToRendered","each","contents","last","after","convertRenderedToLiteral","replace","code","attr","atts","shortcode_content","output","JSON","parse","usl_encode_attr","name","value","focus","$divider","next","replaceWith","all","dom","insertContent","loading","waitMinimumLoadingTime","setTimeout","prop","loading_messages","random_message","Math","floor","random","$e","e","jQuery"],"mappings":"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"}