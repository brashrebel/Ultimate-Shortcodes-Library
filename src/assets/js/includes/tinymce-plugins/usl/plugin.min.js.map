{"version":3,"file":"plugin.min.js","sources":["../../../source/admin/tinymce.js"],"names":["USL_tinymce","$","editor","$texteditor","$editor","$loader","no_selected","min_load_time","last_message","submitted","$lastNode","init","this","addToTinymce","binds","find","createLoader","document","on","close","update","removeShortcode","postRender","submit","event","tinymce","PluginManager","add","_editor","addShortcut","addButton","icon","cmd","onPostRender","usl_button","$node","element","hasClass","closest","is_usl","length","removeClass","addClass","active","onKeyDown","ed","keyCode","curElm","selection","getRng","startContainer","range","getBookmark","textContent","rng","node","getNode","caret_position","startOffset","$parent","parentElement","attr","prev","remove","html","preventDefault","onKeyPress","node_content","caretPos","literal_text","slice","text","newChar","String","fromCharCode","charCode","select","collapse","addCommand","USL_Modal","getContent","content","container_html","append","clone","shortcode","visualToLiteral","modify","open","loadVisual","format","val","window","switchEditors","pre_wpautop","loadText","USL_Data","do_render","USL_MCECallbacks","convertLiteralToRendered","$body","getBody","each","parent","contents","convertRenderedToLiteral","replace","code","atts","shortcode_content","output","JSON","parse","usl_encode_attr","name","value","focus","$divider","next","replaceWith","all","dom","insertContent","loading","waitMinimumLoadingTime","setTimeout","prop","loading_messages","random_message","Math","floor","random","$e","e","jQuery"],"mappings":"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"}